### Nginx反向代理和负载均衡

#### 1、反向代理：

- 反向代理产生的背景：
  在计算机世界里，由于单个服务器的处理客户端（用户）请求能力有一个极限，当用户的接入请求蜂拥而入时，会造成服务器忙不过来的局面，可以使用多个服务器来共同分担成千上万的用户请求，这些服务器提供相同的服务，对于用户来说，根本感觉不到任何差别。

- 反向代理服务的实现：
  需要有一个负载均衡设备（即反向代理服务器）来分发用户请求，将用户请求分发到空闲的服务器上。
  服务器返回自己的服务到负载均衡设备。
  负载均衡设备将服务器的服务返回用户

  ![](https://i.loli.net/2019/08/29/sN1xiXCZmMjQpUR.jpg)

1、代理配置

a、web-1 启动网站(内容)

b、web-2 启动网站(内容)

c、nginx proxy 代理机

代理机nginx配置

```
    upstream lion {
        server 192.168.78.8;
        server 192.168.78.4;
        }
    server {
        listen 80;
        server_name 192.168.78.6;
        location  / {
           proxy_pass http://lion;
        }
   }
```

